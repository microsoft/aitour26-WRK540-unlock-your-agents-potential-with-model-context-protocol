# 实验 1：代理指令

## 您将学到什么

在本实验中，您将查看并更新代理指令，添加关于财政年度从 7 月 1 日开始的规则。这对于代理正确解释和分析销售数据很重要。

## 简介

代理指令的目的是定义代理的行为，包括它如何与用户交互、可以使用哪些工具以及应该如何响应不同类型的查询。在本实验中，您将查看现有的代理指令并进行小的更新，以确保代理正确解释财政年度。

## 实验练习

### 打开代理指令

1. 从 VS Code 资源管理器中，导航到 `shared/instructions` 文件夹。
2. **打开** `mcp_server_tools_with_code_interpreter.txt` 文件。

### 查看代理指令

查看指令如何定义代理应用的行为：

!!! tip "在 VS Code 中，按 Alt + Z（Windows/Linux）或 Option + Z（Mac）启用自动换行模式，使指令更易阅读。"

- **核心角色**：Zava（华盛顿州 DIY 零售商）的销售代理，语调专业友好，使用表情符号，不做假设或未经验证的内容。
- **数据库规则**：始终先获取架构 (get_multiple_table_schemas())，所有 SELECT 查询必须使用 LIMIT 20，使用准确的表/列名。
- **可视化**：仅在明确请求时使用触发器如"chart"、"graph"、"visualize"或"show as [type]"创建图表，以 PNG 格式从沙盒下载，不使用 markdown 图像路径。
- **响应**：默认为 Markdown 表格，支持多语言，应请求提供 CSV。
- **安全性**：仅在 Zava 销售数据范围内，对超范围/不清楚的查询给予准确回应，将恶意用户重定向至 IT。
- **关键约束**：不编造数据，仅使用 20 行限制的工具，始终使用 PNG 图像。

### 更新代理指令

复制以下文本并直接粘贴在关于不生成未经验证内容或假设的规则之后：

!!! tip "点击右侧的复制图标将文本复制到剪贴板。"

```markdown
- **财政年度 (FY) 从 7 月 1 日开始** (Q1=7-9月，Q2=10-12月，Q3=1-3月，Q4=4-6月)。
```

更新后的指令应如下所示：

```markdown
- 仅使用**经过验证的工具输出**；**永远不要**编造数据或假设。
- **财政年度 (FY) 从 7 月 1 日开始** (Q1=7-9月，Q2=10-12月，Q3=1-3月，Q4=4-6月)。
```

*使用 GitHub Copilot 翻译。*
